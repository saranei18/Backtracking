#include<iostream>
#include<string>
#include<vector>
#include<algorithm>
#include<string.h>
using namespace std;

void permute(vector<vector<int>>&nums,string res,int i,int j,vector<vector<int>>&visited)
{
    //cout<<res<<endl;
    if(i==nums.size()-1&&j==nums[0].size()-1)
    {
        cout<<res<<endl;
        return;
    }

    //down
    if(i+1<nums.size()&&!visited[i][j]&&nums[i][j]==1)
    {
        visited[i][j]=1;
        permute(nums,res+'D',i+1,j,visited);
        visited[i][j]=0;
    }

    //left
    if(j-1>=0&&!visited[i][j]&&nums[i][j]==1)
    {
        visited[i][j]=1;
        permute(nums,res+'L',i,j-1,visited);
        visited[i][j]=0;
    }

    //right
    if(j+1<nums[0].size()&&!visited[i][j]&&nums[i][j]==1)
    {
        visited[i][j]=1;
        permute(nums,res+'R',i,j+1,visited);
        visited[i][j]=0;
    }

    //up
    if(i-1>=0&&!visited[i][j]&&nums[i][j]==1)
    {
        visited[i][j]=1;
        permute(nums,res+'U',i-1,j,visited);
        visited[i][j]=0;
    }
    return ;
}
int main()
{
    vector<vector<int>> a{{1, 0, 0, 0},
                          {1, 1, 0, 1},
                          {1, 1, 0, 0},
                          {0, 1, 1, 1}};

    vector<vector<int>>visited{{0, 0, 0, 0},
                               {0, 0, 0, 0},
                               {0, 0, 0, 0},
                               {0, 0, 0, 0}};;
    permute(a,"",0,0,visited);

    return 0;
}
